# 德州扑克手牌范围计算器

一个功能强大的德州扑克手牌范围管理与概率计算工具，帮助玩家快速选择、管理不同场景下的手牌范围，实时计算并展示出现概率。

## 核心功能

### 1. 可视化手牌矩阵 (13x13)
- 直观展示所有169种手牌组合
- 区分对子、同色（suited）、不同色（offsuit）
- 支持点击选择和滑动多选
- 移动端友好的触摸操作

### 2. 实时概率计算
- 自动计算所选手牌的出现概率
- 显示已选手牌数 / 总手牌数（1326）
- 保留两位小数，精确到0.01%

### 3. 预设范围管理
内置12个常见场景预设范围：
- **Open范围**：UTG (15-20%), HJ (20-25%), CO (25-30%), BTN (40-50%), SB (35-45%), BB vs BTN (30-40%)
- **3-Bet范围**：CO vs HJ (8-12%)
- **Call 3-Bet范围**：BTN (15-20%)
- **4-Bet范围**：(4-6%)
- **Call 4-Bet范围**：(2-3%)
- **Flop范围**：Check Range, C-Bet Range

### 4. 自定义范围
- 创建无限个自定义范围
- 支持重命名和删除
- 收藏常用范围，置顶显示

### 5. 批量操作
- 一键全选/清空
- 反选所有手牌
- 按类型批量选择（对子/同色/不同色）

### 6. 数据管理
- 本地存储（LocalStorage），数据持久化
- 导出范围为JSON文件
- 导入JSON格式的范围文件
- 支持备份和分享

### 7. 响应式设计
- 桌面端完美显示
- 移动端优化触摸操作
- 自适应不同屏幕尺寸

## 技术栈

- **前端框架**：React 18 + TypeScript
- **构建工具**：Vite 5
- **样式方案**：Tailwind CSS 3
- **图标库**：Lucide React
- **数据存储**：LocalStorage

## 快速开始

### 安装依赖

```bash
npm install
```

### 启动开发服务器

```bash
npm run dev
```

应用将在 http://localhost:3000 启动

### 构建生产版本

```bash
npm run build
```

构建产物将输出到 `dist` 目录

### 预览生产版本

```bash
npm run preview
```

## 使用指南

### 基础操作

1. **选择范围**：在左侧范围列表中点击任意范围
2. **选择手牌**：
   - 点击矩阵中的手牌格子进行单个选择
   - 按住鼠标拖动进行批量选择
   - 移动端支持触摸滑动选择
3. **查看概率**：所选手牌的概率会实时显示在矩阵上方

### 高级功能

1. **创建自定义范围**：
   - 点击左上角的 "+" 按钮
   - 输入范围名称
   - 开始选择手牌

2. **收藏范围**：
   - 点击范围旁边的星标图标
   - 收藏的范围会置顶显示

3. **批量操作**：
   - 使用右侧批量操作面板
   - 快速选择/取消所有对子、同色牌、不同色牌
   - 一键反选

4. **导入导出**：
   - 点击下载图标导出所有范围
   - 点击上传图标导入备份文件
   - 支持跨设备数据迁移

### 矩阵说明

```
        A   K   Q   J   T   9   8   7   6   5   4   3   2
    A  [AA][AKs][AQs][AJs][ATs][A9s][A8s][A7s][A6s][A5s][A4s][A3s][A2s]
    K  [AKo][KK][KQs][KJs][KTs][K9s][K8s][K7s][K6s][K5s][K4s][K3s][K2s]
    Q  [AQo][KQo][QQ][QJs][QTs][Q9s][Q8s][Q7s][Q6s][Q5s][Q4s][Q3s][Q2s]
    ...
```

- **对角线**（灰色底）：对子（AA, KK, QQ...）
- **右上三角**（蓝色底）：同色手牌（AKs, AQs...）
- **左下三角**（绿色底）：不同色手牌（AKo, AQo...）

## 概率计算说明

德州扑克总手牌组合数为 C(52,2) = **1326种**

### 重要概念：手牌类型 vs 实际组合

每种手牌**类型**实际包含多个**具体组合**：
- **对子**（如 AA）：6 种组合（C(4,2) = 6）
- **同色**（如 AKs）：4 种组合（4种花色）
- **不同色**（如 AKo）：12 种组合（4×3种花色组合）

### 正确的计算公式

**出现概率 = 实际组合数 ÷ 1326 × 100%**

### 示例

选中 AA + KK + AKs + AKo:
- AA: 6 组合
- KK: 6 组合
- AKs: 4 组合
- AKo: 12 组合
- **总计**: 28 组合
- **概率**: 28 ÷ 1326 ≈ 2.11%
- **意味着**: 每 47 手牌中约有 1 次拿到这些牌

详细说明请查看 `PROBABILITY_CALCULATION.md`

## 数据格式

导出的JSON文件格式：

```json
[
  {
    "id": "custom-1699999999999",
    "name": "我的范围",
    "hands": ["AA", "KK", "QQ", "AKs", "AKo"],
    "isPreset": false,
    "isFavorite": true,
    "createdAt": 1699999999999,
    "updatedAt": 1699999999999
  }
]
```

## 浏览器兼容性

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+
- 移动端：iOS Safari 14+, Android Chrome 90+

## 性能优化

- 矩阵渲染 < 300ms
- 概率计算实时响应（< 100ms）
- 本地存储读写 < 50ms
- 支持大量自定义范围无卡顿

## 开源协议

MIT License

## 贡献

欢迎提交 Issue 和 Pull Request！

## 作者

德州扑克爱好者

---

**提示**：所有数据均存储在浏览器本地，不会上传到服务器，隐私安全有保障。

