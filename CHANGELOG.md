# 更新日志

## [1.2.0] - 2025-11-08

### ✨ 新功能

#### 预设范围重置功能
- **新增**: "重置预设范围"按钮（橙色旋转图标）
- **功能**: 一键恢复所有预设范围到初始状态
- **智能保护**:
  - ✅ 自定义范围不受影响
  - ✅ 保留预设范围的收藏状态
  - ✅ 二次确认防止误操作
  - ✅ 当前选中的范围保持选中
- **使用场景**: 
  - 不小心修改了预设范围
  - 想要恢复官方推荐配置
  - 清理测试数据

**位置**: 范围管理面板右上角工具栏

```
[➕] [🔄] [📤] [📥]
 新建  重置  导出  导入
```

### 🎨 界面改进

#### Hover 提示优化
- **新增**: 所有工具栏按钮的 hover 提示
- **样式**: 深色背景 + 白色文字的工具提示
- **位置**: 按钮上方居中显示
- **动画**: 平滑的淡入淡出效果

#### 图标修正
- **修复**: 导出和导入图标之前搞反了
  - ✅ 导出 = Upload 图标（上传到文件）
  - ✅ 导入 = Download 图标（从文件下载）
- **颜色区分**:
  - 🔵 新建 = 蓝色
  - 🟠 重置 = 橙色
  - 🟢 导出 = 绿色
  - 🟣 导入 = 紫色

---

## [1.1.0] - 2025-11-08

### ✅ 已修复

#### 1. 正确的概率计算 🎯
- **问题**: 之前简单地用"手牌类型数"计算概率，不准确
- **修复**: 现在正确计算每种手牌的实际组合数
  - 对子（如 AA）= 6 种组合
  - 同色（如 AKs）= 4 种组合
  - 不同色（如 AKo）= 12 种组合
- **影响**: 所有概率计算现在都是准确的

**示例**:
```
选择 AA:
- 之前: 1 / 1326 = 0.08% ❌
- 现在: 6 / 1326 = 0.45% ✅
```

### 🎨 界面优化

#### 2. 移除不必要的标签系统
- **移除**: position（位置）和 scenario（场景）标签
- **原因**: 
  - 增加了不必要的复杂度
  - 用户创建自定义范围时无法设置这些标签
  - 标签信息已包含在范围名称中（如 "UTG Open"）
- **结果**: 界面更简洁，用户体验更好

**变化对比**:
```
之前:
┌────────────────────────┐
│ UTG Open (15-20%)      │
│ [UTG] [Open]           │ ← 多余的标签
└────────────────────────┘

现在:
┌────────────────────────┐
│ UTG Open (15-20%)      │ ← 简洁清晰
└────────────────────────┘
```

### 📊 概率显示增强

现在显示三个关键指标：
1. **已选手牌类型**: 10 种类型 / 169
2. **实际组合数**: 68 种组合 / 1326 ← 新增
3. **出现概率**: 5.13%

### 🔧 技术改进

- 优化了类型定义，移除了冗余字段
- 简化了数据结构
- 提高了代码可维护性
- 减少了存储空间占用

### 📝 文档更新

- 新增 `PROBABILITY_CALCULATION.md` - 详细的概率计算说明
- 新增 `UPDATES.md` - 更新详情
- 更新 `README.md` - 修正概率计算说明
- 新增 `CHANGELOG.md` - 本文件

---

## [1.0.0] - 2025-11-08

### 🎉 首次发布

#### 核心功能
- ✅ 13x13 手牌矩阵可视化
- ✅ 单点选择和滑动多选
- ✅ 实时概率计算
- ✅ 12 个预设范围
- ✅ 自定义范围管理
- ✅ 收藏功能
- ✅ 批量操作
- ✅ 本地存储
- ✅ 导入/导出
- ✅ 响应式设计

#### 预设范围
1. UTG Open (15-20%)
2. HJ Open (20-25%)
3. CO Open (25-30%)
4. BTN Open (40-50%)
5. SB Open (35-45%)
6. BB vs BTN Open (30-40%)
7. CO 3-Bet vs HJ (8-12%)
8. BTN Call 3-Bet (15-20%)
9. 4-Bet 范围 (4-6%)
10. Call 4-Bet (2-3%)
11. Flop Check Range
12. Flop C-Bet Range

---

## 升级指南

### 从 1.0.0 到 1.1.0

#### 自动升级
- 刷新浏览器即可自动应用所有更新
- 本地存储的数据会自动兼容（position 和 scenario 字段会被忽略）

#### 注意事项
1. **概率显示变化**: 
   - 现在显示的是正确的概率
   - 某些范围的概率可能与之前显示的不同（因为之前计算方式不正确）
   
2. **标签消失**: 
   - 范围列表中不再显示 position 和 scenario 标签
   - 所有信息都在范围名称中

3. **数据兼容性**: 
   - 所有现有的自定义范围和收藏仍然正常工作
   - 不需要重新创建或导入数据

---

## 反馈与建议

如有问题或建议，欢迎反馈！

- 检查控制台是否有错误
- 尝试清除浏览器缓存
- 查看 `PROBABILITY_CALCULATION.md` 了解计算细节

