# 产品设计文档

## 📖 目录

- [产品定位](#产品定位)
- [核心功能](#核心功能)
- [用户场景](#用户场景)
- [设计原则](#设计原则)
- [功能优先级](#功能优先级)

---

## 🎯 产品定位

### 产品名称
德州扑克手牌范围与概率管理应用

### 目标用户
- 德州扑克初学者（学习标准范围）
- 进阶玩家（自定义策略）
- 职业玩家（精细化管理）
- 教练和教学者（范围分享）

### 核心价值
帮助德州扑克玩家快速选择、管理不同场景下的手牌范围，通过可视化矩阵直观选择手牌组合，实时计算并展示所选范围的出现概率，提升手牌决策效率。

### 产品特点
1. **可视化矩阵** - 13x13 直观展示所有手牌
2. **实时概率** - 准确计算出现频率
3. **预设范围** - 基于常规策略的12个场景
4. **灵活管理** - 自定义范围无限创建
5. **本地存储** - 数据安全，隐私保护

---

## 💎 核心功能

### 已实现功能（v1.2.0）

#### 1. 手牌矩阵可视化 ✅
**功能描述**：
- 13x13 矩阵展示所有 169 种手牌类型
- 清晰区分对子、同色、不同色
- 颜色区分（灰色/蓝色/绿色）

**用户价值**：
- 一目了然所有手牌
- 快速理解手牌关系
- 视觉化记忆辅助

#### 2. 手牌选择交互 ✅
**功能描述**：
- 单点选择/取消
- 滑动多选（支持鼠标和触摸）
- Hover 高亮反馈

**用户价值**：
- 快速选择大量手牌
- 桌面和移动端都便捷
- 流畅的交互体验

#### 3. 实时概率计算 ✅
**功能描述**：
- 显示手牌类型数
- 计算实际组合数
- 显示准确概率

**用户价值**：
- 了解真实出现频率
- 科学评估范围强度
- 基于数学的决策

#### 4. 预设范围管理 ✅
**功能描述**：
- 12 个常见场景预设
- 覆盖 open、3bet、4bet 等
- 基于位置的推荐范围

**用户价值**：
- 快速学习标准策略
- 理解位置与范围关系
- 参考专业配置

#### 5. 自定义范围 ✅
**功能描述**：
- 创建无限个范围
- 编辑/删除/重命名
- 收藏常用范围

**用户价值**：
- 构建个性化策略
- 针对特定对手调整
- 灵活的范围体系

#### 6. 批量操作 ✅
**功能描述**：
- 全选/清空/反选
- 按类型批量选择
- 智能按钮状态

**用户价值**：
- 节省选择时间
- 快速创建范围
- 高效的操作流程

#### 7. 数据管理 ✅
**功能描述**：
- 本地存储持久化
- 导出/导入 JSON
- 重置预设范围

**用户价值**：
- 数据不丢失
- 跨设备迁移
- 备份和分享

#### 8. 响应式设计 ✅
**功能描述**：
- 桌面端完美显示
- 移动端触摸优化
- 自适应布局

**用户价值**：
- 随时随地使用
- 设备兼容性好
- 一致的体验

---

## 👥 用户场景

### 场景 1：初学者学习标准范围

**用户**：刚开始学德州扑克的新手

**目标**：理解不同位置的 open 范围

**流程**：
1. 打开应用
2. 查看 "UTG Open (15-20%)"
3. 看到范围包含的手牌
4. 理解为什么这些牌在 UTG 可以 open
5. 对比不同位置的范围差异
6. 记住并在实战中应用

**价值**：
- 快速学习标准策略
- 理解位置概念
- 避免新手常见错误

### 场景 2：进阶玩家自定义范围

**用户**：有一定经验的玩家

**目标**：针对特定对手创建 3-bet 范围

**流程**：
1. 点击"创建新范围"
2. 命名为"vs 紧凶玩家 3bet"
3. 选择强价值牌（AA-QQ, AK）
4. 添加平衡诈唬牌（A5s, K5s）
5. 查看概率（约 8-10%）
6. 保存并收藏

**价值**：
- 构建个性化策略
- 针对性调整
- 范围平衡管理

### 场景 3：实战前快速复习

**用户**：准备打牌的玩家

**目标**：复习今天要用的范围

**流程**：
1. 打开应用
2. 切换到收藏标签
3. 快速浏览常用范围
4. 对比不同场景的调整
5. 心里有数地开始游戏

**价值**：
- 快速复习
- 增强信心
- 减少决策失误

### 场景 4：数据备份和迁移

**用户**：更换设备的用户

**目标**：在新设备上恢复数据

**流程**：
1. 旧设备导出所有范围
2. 保存 JSON 文件
3. 新设备安装应用
4. 导入 JSON 文件
5. 所有范围恢复

**价值**：
- 数据不丢失
- 无缝迁移
- 便捷的备份

### 场景 5：教学和分享

**用户**：扑克教练

**目标**：给学生展示推荐范围

**流程**：
1. 创建教学范围
2. 导出为 JSON 文件
3. 发给学生
4. 学生导入学习
5. 统一的学习材料

**价值**：
- 标准化教学
- 方便分享
- 提高教学效率

---

## 🎨 设计原则

### 1. 简洁优先
**原则**：界面简洁，功能直观

**实践**：
- 移除不必要的标签系统
- 工具栏图标清晰
- 减少认知负担

**反例**：
- ❌ 预设范围显示多余的 position/scenario 标签
- ❌ 复杂的多级菜单

**正例**：
- ✅ 简洁的范围名称
- ✅ 一级操作直达

### 2. 即时反馈
**原则**：操作立即看到结果

**实践**：
- 点击手牌立即高亮
- 概率实时更新（<100ms）
- 通知即时显示

**体验**：
- 无需等待
- 流畅的交互
- 明确的状态

### 3. 容错设计
**原则**：防止用户误操作

**实践**：
- 删除范围需要确认
- 重置预设需要确认
- 名称重复实时提示

**保护**：
- 预设范围不可删除
- 自定义范围可恢复（导入）
- 重要操作二次确认

### 4. 渐进式学习
**原则**：新手易上手，高手有深度

**实践**：
- 首次访问显示引导
- 预设范围供参考
- 高级功能逐步探索

**层次**：
- 基础：选择手牌、查看概率
- 进阶：自定义范围、批量操作
- 高级：导入导出、策略体系

### 5. 数据安全
**原则**：用户数据神圣不可侵犯

**实践**：
- 本地存储，不上传
- 自动保存
- 导出备份

**隐私**：
- 无需注册
- 无数据追踪
- 完全离线可用

### 6. 移动优先
**原则**：移动端体验同样重要

**实践**：
- 触摸操作优化
- 响应式布局
- 横屏支持

**适配**：
- 按钮尺寸 ≥ 44px
- 文字清晰可读
- 手势流畅自然

---

## 📊 功能优先级

### P0 - 核心必须（已完成 ✅）
1. ✅ 13x13 手牌矩阵
2. ✅ 手牌选择交互
3. ✅ 实时概率计算
4. ✅ 预设范围
5. ✅ 自定义范围
6. ✅ 本地存储

### P1 - 重要功能（已完成 ✅）
1. ✅ 收藏功能
2. ✅ 批量操作
3. ✅ 导入导出
4. ✅ 响应式设计
5. ✅ 重置预设

### P2 - 改进体验（部分完成）
1. ✅ Hover 提示
2. ✅ 通知系统
3. ✅ 欢迎引导
4. ⏳ PWA 支持
5. ⏳ 深色模式

### P3 - 高级功能（未实现）
1. ⏳ 范围对比
2. ⏳ 范围历史
3. ⏳ 图表可视化
4. ⏳ 手牌强度标注
5. ⏳ 快捷键支持

### P4 - 扩展功能（可选）
1. ⏳ 云端同步
2. ⏳ 多语言支持
3. ⏳ AI 推荐
4. ⏳ 社区分享
5. ⏳ 数据分析

---

## 📈 产品路线图

### v1.0 - MVP（已完成 ✅）
- 核心功能实现
- 基本交互完善
- 12 个预设范围

### v1.1 - 概率修正（已完成 ✅）
- 正确的组合数计算
- 准确的概率显示
- 界面优化

### v1.2 - 体验提升（当前版本 ✅）
- 移除冗余标签
- 添加重置功能
- Hover 提示优化

### v1.3 - 功能增强（规划中）
- PWA 支持（离线使用）
- 范围对比功能
- 深色模式
- 快捷键支持

### v1.4 - 数据扩展（规划中）
- IndexedDB 迁移
- 范围历史记录
- 更多预设范围
- 图表可视化

### v2.0 - 云端版本（可选）
- 用户账号系统
- 云端数据同步
- 社区功能
- 范围市场

---

## 🎯 成功指标

### 用户体验指标
- 首次渲染 < 300ms ✅
- 交互响应 < 100ms ✅
- 无明显卡顿 ✅
- 移动端流畅 ✅

### 功能完成度
- 核心功能 100% ✅
- 体验功能 95% ✅
- 高级功能 20% ⏳

### 用户满意度（目标）
- 易用性 ≥ 4.5/5.0
- 功能完整性 ≥ 4.0/5.0
- 性能表现 ≥ 4.5/5.0
- 整体满意度 ≥ 4.3/5.0

---

## 💡 设计亮点

### 1. 准确的概率计算
- 区分手牌类型的组合数
- 对子 6 种、同色 4 种、不同色 12 种
- 基于真实数学的概率

### 2. 简洁的交互设计
- 移除冗余标签
- 清晰的视觉层次
- 直观的操作流程

### 3. 智能的数据保护
- 自动保存
- 重置时保护自定义范围
- 导出备份机制

### 4. 灵活的范围管理
- 预设范围可参考
- 自定义范围无限制
- 收藏功能快速访问

### 5. 全面的移动适配
- 触摸操作优化
- 响应式布局
- 横竖屏支持

---

## 🔮 未来展望

### 短期（1-3个月）
- PWA 离线支持
- 深色模式
- 更多预设范围
- 性能优化

### 中期（3-6个月）
- 范围对比功能
- 手牌强度标注
- 多语言支持
- 社区功能探索

### 长期（6-12个月）
- 云端同步（可选）
- AI 范围推荐
- 移动应用版本
- 数据分析功能

---

**产品定位清晰，功能完善，体验优秀！** 🎯

